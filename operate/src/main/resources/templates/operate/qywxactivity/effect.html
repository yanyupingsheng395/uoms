<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="edge" />
    <title>用户成长系统</title>
    <th:block th:include="common/include :: common-css" />
</head>

<body class="gray-bg">
<div class="lyear-layout-web">
    <div class="lyear-layout-container">
        <!-- 左侧导航 -->
        <div data-th-include="common/aside"></div>
        <!-- 头部信息 -->
        <div data-th-include="common/header"></div>
        <!-- 页面主要内容 -->
        <main class="lyear-layout-content">
            <div class="container-div ui-layout-center">
                <div class="row">
                    <div class="col-sm-12 search-collapse">
                        <div class="row">
                            <div>
                                <span class="navbar-page-title">任务效果</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <hr class="hr"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <p class="h5" id="taskInfo">
                                    <i class="mdi mdi-alert-circle-outline"></i>
                                </p>
                            </div>
                            <div class="col-md-6 text-right">
                                <a class="btn btn-secondary btn-sm" href="/page/qywxActivity">
                                    <i class="fa fa-reply"></i> 返回
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 select-table table-striped">
                        <ul id="effectTabs" class="nav nav-tabs" role="tablist">
                            <li class="active"><a href="#effect-all-div" id="effect-all" role="tab" data-toggle="tab">整体结果</a></li>
                            <li><a href="#effect-follower-div" role="tab" id="effect-follower" data-toggle="tab">成员结果</a></li>
                            <li><a href="#effect-personal-div" role="tab" id="effect-personal" data-toggle="tab">个体结果</a></li>
                        </ul>
                        <div id="myTabContent" class="tab-content">
                            <div class="tab-pane fade active in" id="effect-all-div">
                                <!--任务效果-->
                                <div class="row" style="margin-top: 20px;">
                                    <div class="col-md-12">
                                        <h5>推送累计结果</h5>
                                        <hr class="hr m-t-0 m-b-5"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8 col-md-offset-2">
                                        <table id="effectDataTable" class="table table-striped table-responsive text-nowrap table-bordered">
                                            <thead>
                                            <tr><th>指标</th><th>数值</th><th>指标</th><th>数值</th></tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>建议推送用户数（人）</td>
                                                <td id="totalNum"></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td>推送成功用户数（人）</td>
                                                <td id="successNum"></td>
                                                <td>推送成功率（%）</td>
                                                <td id="pushSuccessRate"></td>
                                            </tr>
                                            <tr>
                                                <td>推送转化用户数（人）</td>
                                                <td id="convertNum"></td>
                                                <td>推送转化率（%）</td>
                                                <td id="convertRate"></td>
                                            </tr>
                                            <tr>
                                                <td>推送转化金额（元）</td>
                                                <td id="convertAmount"></td>
                                                <td></td>
                                                <td></td>
                                            </tr>

                                            <tr>
                                                <td>推送并购买SPU用户数（人）</td>
                                                <td id="convertSpuNum"></td>
                                                <td>推送并购买SPU转化率（%）</td>
                                                <td id="convertSpuRate"></td>
                                            </tr>
                                            <tr>
                                                <td>推送并购买SPU转化金额（元）</td>
                                                <td id="convertSpuAmount"></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <small class="help-block"></small>
                                    </div>
                                </div>
                               <!-- <div class="row" style="margin-top: 20px;">
                                    <div class="col-md-12">
                                        <h5>推送结果变化</h5>
                                        <hr class="hr m-t-0 m-b-5"/>
                                    </div>
                                </div>
                                &lt;!&ndash;效果数据图&ndash;&gt;
                                <div class="row">
                                    <div class="col-md-6">
                                        <div id="chart1" style="height:300px;width: 100%;"></div>
                                    </div>
                                    <div class="col-md-6">
                                        <div id="chart2" style="height:300px;width: 100%;"></div>
                                    </div>
                                </div>-->
                            </div>
                            <!--导购结果 -->
                            <div class="tab-pane fade" id="effect-follower-div">
                                <!--任务效果-->
                                <div class="row" style="margin-top: 20px;">
                                    <div class="col-md-12">
                                        <h5>成员执行推送概览</h5>
                                        <hr class="hr m-t-0 m-b-5"/>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-8 col-md-offset-2">
                                        <table id="qywxUserEffectTable" class="table table-striped table-responsive text-nowrap table-bordered">
                                            <thead>
                                            <tr><th>指标</th><th>数值</th><th>指标</th><th>数值</th><th>指标</th><th>数值</th></tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>获取推送任务的成员数（人）</td>
                                                <td data-th-text="${activityHead.staffCnt}"></td>
                                                <td>执行推送任务的成员数（人）</td>
                                                <td data-th-text="${activityHead.executeStaffCnt}"></td>
                                                <td>执行推送成员占比（%）</td>
                                                <td data-th-text="${activityHead.executeRate}"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <small class="help-block"></small>
                                    </div>
                                </div>

                                <!--成员执行推送详情-->
                                <div class="row" style="margin-top: 20px;">
                                    <div class="col-md-12">
                                        <h5>推送执行结果数据</h5>
                                        <hr class="hr m-t-0 m-b-5"/>
                                    </div>
                                </div>

                                <div class="row">
                                    <!--成员列表 -->
                                    <div class="col-md-12">
                                        <form id="selectUserForm">
                                            <div class="select-list">
                                                <ul>
                                                    <li>
                                                        推送成员：<select id="followUserIdSelect" name="followUserIdSelect">
                                                        <option value="">请选择</option>
                                                    </select>
                                                    </li>
                                                </ul>
                                            </div>
                                        </form>
                                        <table id="qywxSingleUserTable" class="table table-striped table-responsive text-nowrap table-bordered">
                                            <thead>
                                            <tr><th>指标</th><th>数值</th><th>指标</th><th>数值</th><th>指标</th><th>数值</th><th>指标</th><th>数值</th></tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>需执行的推送消息数（个）</td>
                                                <td id="msgNum"></td>
                                                <td>实际执行的推送消息数（个）</td>
                                                <td id="executeMsgNum"></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td>全部执行推送预计覆盖用户数（个）</td>
                                                <td id="coverNum"></td>
                                                <td>实际执行推送后覆盖用户数（个）</td>
                                                <td id="executeCoverNum"></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td>推送并转化用户数（个）</td>
                                                <td id="convertNum1"></td>
                                                <td>推送转化金额（元）</td>
                                                <td id="convertAmount1"></td>
                                                <td>推送转化率（%）</td>
                                                <td id="convertRate1"></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td>推送并购买SPU用户数（人）</td>
                                                <td id="convertSpuNum1"></td>
                                                <td>推送并购买SPU转化金额（元）</td>
                                                <td id="convertSpuAmount1"></td>
                                                <td>推送并购买SPU转化率（%）</td>
                                                <td id="convertSpuRate1"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <small class="help-block"></small>
                                    </div>
                                </div>
                            </div>
                            <!--个体效果-->
                            <div class="tab-pane fade" id="effect-personal-div">
                                <!--任务效果-->
                                <div class="row" style="margin-top: 20px;">
                                    <div class="col-md-12">
                                        <h5>个体转化结果</h5>
                                        <hr class="hr m-t-0 m-b-5"/>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-8 col-md-offset-2">
                                        <table id="qywxDailyConvertTable" class="table table-striped table-responsive text-nowrap table-bordered"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script>
    var headId = "[[${headId}]]";
</script>

<th:block th:include="common/include::footer" />
<th:block th:include="common/include::perfect-scrollbar" />
<th:block th:include="common/include::jquery-validate-js" />
<th:block th:include="common/include::common-js" />
<th:block th:include="common/include::bootstrap-table-js" />
<th:block th:include="common/include::jquery-confirm-js" />
<th:block th:include="common/include::echarts" />
<script data-th-src="@{/js/app/operate/common/template.js}"></script>
<script data-th-src="@{/js/app/operate/qywxactivity/effect.js}"></script>
</body>
</html>